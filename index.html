<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Avances de Conteos</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
    font-family:'Inter',sans-serif;
    background:#f4f6fa;
    margin:0;
    padding:40px;
    color:#1e293b;
}

.header{ margin-bottom:30px; }
.header h1{ font-size:34px; margin:5px 0; }
.subtitle{ color:#64748b; font-size:14px; }

.top-bar{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:30px;
}

.left-filters{ display:flex; gap:12px; }

.tag{
    background:#e2e8f0;
    padding:8px 14px;
    border-radius:8px;
    font-size:13px;
}

.search{
    background:white;
    border:1px solid #e2e8f0;
    padding:10px 15px;
    border-radius:10px;
    width:300px;
}

.search input{
    border:none;
    outline:none;
    width:100%;
    font-size:14px;
}

.tabs{ display:flex; gap:10px; }

.tabs button{
    border:none;
    padding:8px 14px;
    border-radius:8px;
    background:#e2e8f0;
    cursor:pointer;
    font-weight:600;
}

.tabs .active{
    background:#0f172a;
    color:white;
}

.columns{
    display:flex;
    justify-content:space-between;
    font-size:12px;
    color:#94a3b8;
    font-weight:600;
    padding:0 10px;
    margin-bottom:10px;
}

.card{
    background:white;
    border-radius:14px;
    padding:18px 22px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:14px;
    border-left:4px solid #22c55e;
    box-shadow:0 2px 6px rgba(0,0,0,0.04);
}

.card.pendiente{ border-left:4px solid #ef4444; }

.left{
    display:flex;
    align-items:center;
    gap:15px;
    width:30%;
}

.icon{
    background:#dcfce7;
    color:#16a34a;
    padding:12px;
    border-radius:10px;
}

.card.pendiente .icon{
    background:#fee2e2;
    color:#dc2626;
}

.badge{
    font-size:11px;
    padding:4px 10px;
    border-radius:6px;
    margin-top:4px;
    display:inline-block;
    font-weight:600;
}

.badge.ok{
    background:#dcfce7;
    color:#166534;
}

.badge.pendiente{
    background:#fee2e2;
    color:#991b1b;
}

.progress-section{ width:35%; }

.progress-label{
    font-size:12px;
    margin-bottom:5px;
}

.progress-bar{
    height:6px;
    background:#e2e8f0;
    border-radius:20px;
    overflow:hidden;
}

.progress{
    height:100%;
    background:#22c55e;
}

.days{
    display:flex;
    gap:8px;
    width:25%;
    justify-content:flex-end;
}

.day{
    width:32px;
    height:32px;
    border-radius:10px;
    border:1px solid #cbd5e1;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:15px;
    font-weight:700;
    color:#64748b;
}

.day.ok{
    background:#16a34a;
    color:white;
    border:none;
}

.day.bad{
    background:#ef4444;
    color:white;
    border:none;
}
</style>
</head>
<body>

<div class="header">
    <div class="subtitle">INVENTARIOS ¬∑ IE</div>
    <h1>Avances de Conteos</h1>
</div>

<div class="top-bar">
    <div class="left-filters">
        <div class="tag">üìÖ 09 Febrero 2026</div>
        <div class="tag">üìò Semana 02</div>
    </div>

    <div class="search">
        <input type="text" id="searchInput" placeholder="Buscar sucursal...">
    </div>

    <div class="tabs">
        <button class="active" onclick="filterStatus('todas', this)">Todas</button>
        <button onclick="filterStatus('cumplido', this)">Al d√≠a</button>
        <button onclick="filterStatus('pendiente', this)">Pendientes</button>
    </div>
</div>

<div class="columns">
    <div style="width:30%">SUCURSAL</div>
    <div style="width:35%">PROGRESO</div>
    <div style="width:25%; text-align:right;">SEMANAS</div>
</div>

<div id="cardsContainer"></div>

<script>

const semanaActual = 2;

const sucursales = [
["IE IBAGUE",[1,1,0,0]],
["IE MEDELLIN",[1,1,0,0]],
["IE VILLAVICENCIO",[1,1,0,0]],
["IE BUCARAMANGA",[1,1,0,0]],
["IE CUCUTA",[1,1,0,0]],
["IE TAMANA",[1,1,0,0]],
["IE NEIVA",[1,0,0,0]],
["IE MANIZALES",[0,1,0,0]],
["IE CALI",[0,0,0,0]],
["IE PEREIRA",[1,0,0,0]],
["IE CARTAGENA",[0,0,0,0]],
["IE MONTERIA",[0,1,0,0]],
["IE BOGOTA",[0,0,0,0]],
];

const container = document.getElementById("cardsContainer");

sucursales.forEach(s => {

let semanas = s[1];
let cumplidas = semanas.filter(x=>x===1).length;
let porcentaje = cumplidas * 25;

let estado = porcentaje === 0 ? "pendiente" : "cumplido";
let badgeClass = porcentaje === 0 ? "pendiente" : "ok";
let badgeText = porcentaje === 0 ? "PENDIENTE" : "EN PROCESO";

let semanasHTML = "";

semanas.forEach((sem,i)=>{

if(i+1 > semanaActual){
    semanasHTML += `<div class="day">${i+1}</div>`;
}
else if(sem === 1){
    semanasHTML += `<div class="day ok">‚úî</div>`;
}
else{
    semanasHTML += `<div class="day bad">X</div>`;
}

});

container.innerHTML += `
<div class="card ${estado}">
<div class="left">
<div class="icon">üè¢</div>
<div>
<strong>${s[0]}</strong><br>
<span class="badge ${badgeClass}">${badgeText}</span>
</div>
</div>

<div class="progress-section">
<div class="progress-label">${porcentaje}% completado</div>
<div class="progress-bar">
<div class="progress" style="width:${porcentaje}%"></div>
</div>
</div>

<div class="days">
${semanasHTML}
</div>
</div>
`;
});

document.getElementById("searchInput").addEventListener("keyup", function() {
    const value = this.value.toLowerCase();
    document.querySelectorAll(".card").forEach(card => {
        const text = card.innerText.toLowerCase();
        card.style.display = text.includes(value) ? "flex" : "none";
    });
});

function filterStatus(status, button){
    document.querySelectorAll(".tabs button").forEach(btn => btn.classList.remove("active"));
    button.classList.add("active");

    document.querySelectorAll(".card").forEach(card=>{
        if(status === "todas"){
            card.style.display = "flex";
        } else if(card.classList.contains(status)){
            card.style.display = "flex";
        } else {
            card.style.display = "none";
        }
    });
}
</script>

</body>
</html>
